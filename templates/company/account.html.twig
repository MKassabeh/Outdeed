{% extends 'base.html.twig' %}

{% block title %}Outdeed - Mon compte
{% endblock %}

{% block body %}

<div class="container">
    <div class="row my-3 d-flex justify-content-center">
        <div class="col-lg-10 col-md-10 col-8 blanc">
            <h1 class="text-center font_title">Mon compte entreprise</h1>
        </div>
    </div>
</div>

<div class="container">
    <div class="row justify-content-center d-flex">
        <div class="col-lg-11 col-md-10 col-8">
            <div class="row background-account">
                <div class="px-0 col-lg-2 col-md-3 col-12">
                    <img class="img-fluid"
                        style="max-height:300px; border-radius: 20px;"
                        src="{{ asset(company.pdp) }}" alt="{{ company.name }}">
                </div>
                <div class="col-lg-8 col-md-8 col-10 text-center text-md-start text-lg-start">
                    <div class="ms-3">
                        <h1 class="font_title">{{ company.name }}</h1>
                        <p style="font-size: 16px !important;" class="badge bg-info text-dark">{{company.category}}</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="container border-radius p-3">
    <div class="row d-flex justify-content-lg-around justify-content-md-center justify-content-center">
        <div class="col-lg-5 my-lg-0 my-3 my-md-3 col-md-10 col-8 blanc">
            <div class="my-3 row d-flex justify-content-center">
                <div class="col-lg-11 col-md-10 col-10">
                    <h5 class="fw-bold text-center"> Ma fiche entreprise</h5>
                </div>
            </div>
            <div class="mt-3 row d-flex justify-content-center">
                <div class="col-lg-11 col-md-11 col-11 text-center text-lg-end text-md-end">
                    <span class="text-muted"> {{ company.name }}</span>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-md-11 col-11">
                    <hr>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-md-4 col-11 text-center text-lg-start text-md-start">
                    <p class="fw-bold">Email </p>
                </div>
                <div class="col-md-6 col-11 text-center text-lg-end text-md-end">
                    <p>{{ company.contactEmail }}</p>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-start text-md-start">
                    <p class="fw-bold">Numéro de téléphone </p>
                </div>
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-end text-md-end">
                    {% set phone = company.phone|split('', 2) %}
                    <p>{{phone[0]}}.{{phone[1]}}.{{phone[2]}}.{{phone[3]}}.{{phone[4]}}</p>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-11 col-md-11">
                    <hr>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-start text-md-start">
                    <p class="fw-bold">Ville </p>
                </div>
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-end text-md-end">
                    <p>{{ company.city }}</p>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-start text-md-start">
                    <p class="fw-bold">Code postal </p>
                </div>
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-end text-md-end">
                    <p>{{ company.postalCode }}</p>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-start text-md-start">
                    <p class="fw-bold">Rue </p>
                </div>
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-end text-md-end">
                    <p>{{ company.street }}</p>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-11 col-md-11">
                    <hr>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-start text-md-start">
                    <p class="fw-bold">Nombre d'employées</p>
                </div>
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-end text-md-end">
                    <p>{{ company.nbEmployees }} {% if company.nbEmployees == 1 %}personne{% else %}personnes{% endif %}
                    </p>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-start text-md-start">
                    <p class="text-muted fw-bold">Créée le</p>
                </div>
                <div class="col-lg-5 col-md-5 col-11 text-center text-lg-end text-md-end">
                    <p class="text-muted ">{{ company.createdAt|date('d-m-Y') }}</p>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-11 col-md-11">
                    <hr>
                </div>
            </div>
            <div class="row d-flex justify-content-around">
                <div class="col-lg-10 col-md-10 col-10 text-center text-lg-center text-md-center">
                    <a class="mb-3 btn btn-outline-warning" href="{{ path('company_edit', {id: company.id}) }}">Modifier
                        ma fiche entreprise</a>
                </div>
            </div>
        </div>
        <div class="col-lg-5 my-lg-0 my-md-3 my-3 col-md-10 col-8 blanc">
            <div class="mt-3 row d-flex justify-content-center">
                <div class="col-lg-11">
                    <h5 class="text-center fw-bold">Description de mon entreprise</h5>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-11 col-md-11">
                    <hr>
                </div>
            </div>
            <div class="mt-3 row d-flex justify-content-center">
                <div class="col-lg-11 col-md-11 col-11">
                    <p>{{ company.description|nl2br }}</p>
                </div>

            </div>
        </div>

    </div>
</div>

<div class="container border-radius p-3">
    <div class="row d-flex justify-content-lg-center justify-content-md-center justify-content-center">
        <div class="pb-3 col-lg-11 my-lg-0 my-3 my-md-3 col-md-10 col-8 blanc">
            <div class="mt-3 row d-flex justify-content-center">
                <div class="col-lg-11">
                    <h5 class="fw-bold text-center">Mes offres d'emploi</h5>
                </div>
            </div>
            {% if job is empty %}
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-md-11 col-11">
                    <hr>
                </div>
            </div>
            {% include 'empty.html.twig' %}
            {% endif %}
            {% for job in job %}
            <div class="row d-flex justify-content-center">
                <div class="col-lg-11 col-11 col-md-11">
                    <hr>
                </div>
            </div>
            <div class="row mb-md-3 mb-lg-0 d-flex justify-content-center">
                <div class="col-lg-4 col-md-4 col-11 fw-bold text-md-start text-lg-start text-center">
                    <span>{{ job.title|title }}</span>
                </div>
                <div class="col-lg-4 col-md-4 col-11 text-md-start text-lg-start text-center">
                    <span>{{ job.contractType }}</span>
                </div>
                <div class="col-lg-3 col-md-3 col-11 text-md-end text-lg-end text-center">
                    <a href="{{ path('job_view', {id: job.id}) }}">
                        <i class="fas fa-eye"></i>
                        Voir l'offre
                    </a>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>
</div>

{#



<div class="mt-5 container text-center">
    <div class="row">
        <div class="col-12">
            <h3 class="mt-5">Vos offres d'emploi</h3>
        </div>
    </div>
</div>
<div class="container mb-3">
    <div class="row d-flex justify-content-center">
        {% for job in job %}
        <div class="card col-lg-3 col-md-6 col-12 m-auto d-flex my-2 my-md-0" style="border-radius: 20px;">
            <div class="card-body">
                <div class="d-flex align-items-center justify-content-center justify-content-md-between">
                    <h5 class="card-title">{{ job.title|upper}}</h5>
                </div>
                <p class="card-text">{{ job.contractType }}</p>
                <a href="{{ path('job_view', {id: job.id}) }}" class="card-link">Voir plus</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div> #}
{% endblock %}